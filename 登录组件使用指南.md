# 登录组件使用指南

## 功能概述

这是一个完整的登录注册组件，包含以下功能：

### 1. 手机号登录
- 输入11位手机号
- 发送验证码到手机
- 输入验证码完成登录

### 2. 学校邮箱登录
- 输入学校邮箱地址
- 发送验证码到邮箱
- 输入验证码完成登录

### 3. 首次登录设置
- 上传头像
- 设置昵称
- 选择校区

### 4. 服务条款
- 默认勾选"我已阅读并同意服务条款"
- 必须同意才能继续登录流程

## 路由配置

登录页面可通过以下路由访问：
```
/sign-in
```

## 组件结构

### 主要文件
- `src/components/ui/signin-form.tsx` - 主登录组件
- `src/components/ui/button.tsx` - 按钮组件
- `src/components/ui/input.tsx` - 输入框组件
- `src/components/ui/label.tsx` - 标签组件
- `src/components/ui/checkbox.tsx` - 复选框组件
- `src/components/ui/tabs.tsx` - 标签页组件
- `src/components/ui/card.tsx` - 卡片组件
- `src/components/ui/select.tsx` - 选择器组件
- `src/components/ui/toast.tsx` - 提示组件
- `src/components/ui/use-toast.ts` - 提示钩子
- `src/components/ui/toaster.tsx` - 提示容器

### 登录流程

1. **输入信息步骤**
   - 选择登录方式（手机号/邮箱）
   - 输入联系方式
   - 勾选服务条款
   - 发送验证码

2. **验证码验证步骤**
   - 显示发送目标
   - 输入验证码
   - 验证并判断是否首次登录

3. **首次登录设置步骤**
   - 上传头像
   - 设置昵称
   - 选择校区
   - 完成设置

## 使用方法

### 1. 启动项目
```bash
cd campus-social-app
npm install
npm run dev
```

### 2. 访问登录页面
在浏览器中访问：
```
http://localhost:5173/sign-in
```

### 3. 测试功能

#### 手机号登录测试
- 输入手机号：13800138000
- 点击"发送验证码"
- 输入任意6位数字作为验证码
- 点击"验证"

#### 邮箱登录测试
- 切换到"邮箱登录"标签
- 输入邮箱：test@hku.hk
- 点击"发送验证码"
- 输入任意6位数字作为验证码
- 点击"验证"

#### 首次登录设置测试
- 完成验证后，如果是首次登录会进入设置页面
- 上传头像文件
- 输入昵称
- 选择校区
- 点击"完成设置"

## 技术特性

### 1. 表单验证
- 手机号格式验证（11位数字）
- 邮箱格式验证
- 验证码必填验证
- 昵称和校区必填验证

### 2. 用户体验
- 倒计时显示（60秒后可重新发送验证码）
- 加载状态显示
- 错误提示信息
- 成功提示信息
- 步骤间可返回

### 3. 响应式设计
- 适配移动端和桌面端
- 使用Tailwind CSS样式
- 现代化UI设计

### 4. 状态管理
- 使用React Hooks管理状态
- 步骤间状态保持
- 表单数据持久化

## 自定义配置

### 1. 校区配置
在 `signin-form.tsx` 中修改 `CAMPUS_OPTIONS` 数组：

```typescript
const CAMPUS_OPTIONS = [
  { value: 'main', label: '主校区' },
  { value: 'north', label: '北校区' },
  // 添加更多校区...
];
```

### 2. 验证规则
可以修改以下验证规则：
- 手机号格式：`/^1[3-9]\d{9}$/`
- 邮箱格式：`/^[^\s@]+@[^\s@]+\.[^\s@]+$/`
- 验证码长度：`maxLength={6}`

### 3. 倒计时时间
修改验证码倒计时时间：
```typescript
setCountdown(60); // 60秒
```

## 注意事项

1. **依赖包**：确保安装了所有必要的依赖包
2. **路由配置**：确保在App.tsx中正确配置了路由
3. **样式文件**：确保Tailwind CSS配置正确
4. **类型定义**：确保TypeScript配置正确

## 故障排除

### 常见问题

1. **组件不显示**
   - 检查路由配置是否正确
   - 检查导入路径是否正确

2. **样式问题**
   - 检查Tailwind CSS是否正确安装
   - 检查CSS文件是否正确导入

3. **类型错误**
   - 检查TypeScript配置
   - 检查依赖包版本

4. **功能异常**
   - 检查浏览器控制台错误信息
   - 检查网络请求是否正常

## 后续开发

1. **集成真实API**
   - 替换模拟的验证码发送
   - 集成真实的用户认证服务

2. **添加更多功能**
   - 密码登录选项
   - 第三方登录（微信、QQ等）
   - 记住登录状态

3. **优化用户体验**
   - 添加动画效果
   - 优化移动端体验
   - 添加无障碍支持 